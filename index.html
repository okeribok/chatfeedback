<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" href="favicon.png" type="image/png">
<title>Chat Feedback</title>
<style>
body{font-family:Georgia,serif;max-width:600px;margin:60px auto;padding:20px;color:#333}
textarea,.buttons{width:100%;box-sizing:border-box}
textarea{border:1px solid #ccc;padding:12px;font-family:inherit;font-size:15px;margin-bottom:16px;resize:vertical}
.buttons{display:flex;justify-content:space-between}
button{border:1px solid #ccc;background:#fff;font-size:32px;cursor:pointer;padding:12px 24px}
button:hover{background:#f5f5f5}
</style>
</head>
<body>
<textarea id="result" rows="8" placeholder="Plak of tik hier wat de AI goed of fout deed" required></textarea>
<textarea id="comment" rows="4" placeholder="Optioneel commentaar"></textarea>
<div class="buttons">
<button id="down" title="Thumbs down">ğŸ‘</button>
<button id="up" title="Thumbs up">ğŸ‘</button>
</div>
<script>
const STORAGE_KEY='feedbackEmail_v1';
const result=document.getElementById('result');
const comment=document.getElementById('comment');
const up=document.getElementById('up');
const down=document.getElementById('down');

function getEmail(){
let email=sessionStorage.getItem(STORAGE_KEY);
if(!email){
email=prompt('E-mail adres voor chat-feedback:');
if(email) sessionStorage.setItem(STORAGE_KEY,email.trim());
}
return email;
}

function send(isPositive){
if(!result.value.trim()){
alert('Vul het verplichte veld in');
return;
}
const email=getEmail();
if(!email) return;
const emoji=isPositive?'ğŸ‘':'ğŸ‘';
const subject=`Chat Feedback-${emoji}`;
let body='';
if(comment.value.trim()){
body+=comment.value.trim()+'\n\n---\n\n';
}
body+=result.value.trim();
const mailto=`mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
console.log('Mailto URL:',mailto);
window.location.href=mailto;
}

up.onclick=()=>send(true);
down.onclick=()=>send(false);
</script>
</body>
</html>
